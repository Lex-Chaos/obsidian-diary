---
cssclass: diary, diary_plus
---

![[diary-obsidian.png]]

# Добро пожаловать в Diary

Diary — это пространство для ведения дневника внутри заметочника Обсидиан. С помощью стандартных функций, плагинов сообщества и дополнительной разметки html/css, можно повторить опыт популярных дневниковых приложений Day One и Journey. 

# Что умеет Diary

## Выводить ленту дневниковых записей

![[diary-lenta-zapisej.gif|400]]

Каждая запись в ленте может содержать:

- разделитель для указания года;
- метку избранной записи;
- дату;
- заголовок;
- отрывок записи;
- адрес, где была сделана запись;
- погоду;
- настроение;
- фото.

## Фильтровать записи по выбранным критериям

![[diary-filtry-zapisej.gif]]

Фильтры переключаются кнопками в меню навигации:

- все записи дневника;
- категории записей;
- избранные записи;
- записи, содержащие определённый тег;
- записи, сделанные в это день и месяц в другие года;
- записи, сделанные в определённый год.

## Другие полезные функции

![[diary-dnevnik-v-obsidiane.gif]]

Уже сейчас для Обсидиана сделано более тысячи плагинов. Diary использует самые популярные из них и умеет:

- показывать карту мира с геометками записей;
- переключать оформление между светлой и тёмной темой;
- показывать все теги в дневнике и частоту их использования;
- создавать новые записи по собственным шаблонам;
- менять Diary как вам захочется, добавляя новое оформление и функции с плагинами от сообщества.

# Быстрый старт

![[diary-bystryj-start.gif]]

Если вы уже пользуетесь Обсидианом, то Diary готов к работе, достаточно указать его папку в качестве хранилища. Единственное, что придётся изменить — правильный локальный путь к картинкам в шаблонах фильтров:

1. Перейдите на сайт [obsidian.md](https://obsidian.md/) и скачайте программу.
2. Установите Обсидиан и разархивируйте папку с Diary.
3. Запустите Обсидиан и откройте папку Diary как хранилище. При первом запуске Обсидиан спросит доверяете ли вы автору данного хранилища, чтобы включить плагины. Нужно согласиться — без плагинов Diary не сможет работать.
4. Нажмите `ctrl/cmd+shift+f`* и вбейте в поиск фразу `path:Templates blank`
5. Откройте первый найденный файл в режиме редактирования и нажмите `ctrl/cmd+alt+f`, чтобы актировать режим замены текста.
6. В поле "Найти" напишите `blank`, в поле "Заменить" подставьте путь к папке Diary в формате `/Users/UserName/Desktop` и нажмите кнопку "Заменить всё".
7. Замените путь в остальных документах из поиска и нажмите кнопку `button-DiaryOpen`, чтобы открыть дневник.

> [!note] Примеры путей на Windows и Mac
> Чтобы узнать правильный путь до папки Diary, кликните на неё ПКМ\*\*, выберите пункт "свойства" и скопируйте в Обсидиан текст из строчки "Расположение" на Windows или "Место" на Mac.
> 
> Учтите, что на Windows вы скопируете строчку в формате `C:\Users\UserName\Desktop`, необходимо изменить направление слеша и добавить ещё один в начале — `/C:/Users/UserName/Desktop`
> 
> **Windows** — `/C:/Users/UserName/Desktop`
> **Mac** — `/Users/UserName/Desktop`

Здесь и далее по тексту:

\**ctrl/cmd — ctrl для Windows, cmd для Mac*
\*\**ПКМ — правая кнопка мыши*

# Интерфейс Diary

![[diary-interface-obsidian.png]]

Diary разделён на две рабочие области: слева навигационная панель с лентой записей, справа страница записи.

## Управление дневником (левая часть)

Панель слева — это постоянная заметка [[Diary|Diary.md]]. При нажатии на кнопки в меню навигации, код заметки обновляется — происходит смена запроса для плагина [Dataview](obsidian://show-plugin?id=dataview) и выводятся записи дневника в соответствии с выбранными фильтрами. Пример таких фильтров — вывод только добавленных в избранное записей.

Символ канцелярской кнопки в названии заметки [[Diary]], указывает на то, что она закреплена. Это важно для логики работы Diary: внутри заметки фильтры меняются при нажатии на кнопки, а записи в ленте открываются в соседнем окне справа. 

### Меню навигации и сценарии

![[diary-knopki-menyu-navigacii.png]]

Выделенная цветом кнопка, соответствует выбранному в текущий момент разделу. На примере сверху активна кнопка «В этот день» — это фильтр, который показывает записи, сделанные в этот день и месяц, но в другие года. 

Меню навигации состоит из шести кнопок. Часть кнопок имеет по два и три сценария работы:

| **Кнопка**                                 | **1-е нажатие**                                      | **2-е нажатие**                                     | **3-е нажатие**              |
| ------------------------------------------ | ---------------------------------------------------- | --------------------------------------------------- | ---------------------------- |
| ![[diary-knopka-1-vse-zapisi.png]]         | Показать все записи                                  | Показать записи для определённой категории дневника | Вернуть все записи           |
| ![[diary-knopka-2-izbrannoe.png]]          | Показать избранные записи                            | Показать записи по определённому тегу               | Вернуть избранные записи     |
| ![[diary-knopka-3-v-etot-den.png]]         | Показать записи в тот же день и месяц, что и сегодня | Показать записи за определённый год                 | Вернуть записи «В этот день» |
| ![[diary-knopka-4-karta-zapisej.png]]      | Открыть карту записей                                | ×                                                   | ×                            |
| ![[diary-knopka-5-nastroiki-dnevnika.png]] | Открыть настройки Diary                              | Закрыть Diary и вернуться к заметкам в Obsidian     | ×                            |
| ![[diary-knopka-6-novaya-zapis.png]]       | Создать новую запись дневника                        | ×                                                   | ×                            |

Сценарии работают только внутри выбранного раздела. При переходе на другие разделы — нажатия сбрасываются. Например, вы нажали на кнопку «В это день», а затем вернулись в раздел «Избранное». Если после этого вы повторно нажмёте на кнопку «В это день», то сценарий будет вновь соответствовать первому нажатию.

### Лента записей

![[diary-lenta-zapisej-dnevnika.png]]

В зависимости от заполненных свойств, записи могут показывать следующие поля: звёздочку избранного, дату, заголовок, описание, адрес, погоду, настроение и фото. Плашка года, которая разделяет записи между годами доступна только для записей с категорией «Итоги года» и фильтром «Все записи».

## Управление страницей записи (правая часть)

![[diary-upravlenie-stranicoj-zapisi.png]]

Как и левая часть, страница записи также разбита на два блока: свойства (метаданные записи) и непосредственно текст заметки дневника.

### Свойства

![[diary-svojstva-zapisi-dnevnika.gif]]

Метаданные для записей хранятся в верхнем блоке, который называется «Свойства» или YAML-заголовок. Это тоже специальный формат синтаксиса, который удобен для понимания человеку, но в отличие от Маркдауна, служит для организации структуры данных. Данные для таких заголовков "хранят" в самом верху заметок и "оборачиваются" тремя дефисами `---` в начале и конце YAML-заголовка.

Именно из этих данных собирается лента записей Diary. В отличие от самой заметки, свойства можно редактировать в режиме просмотра — это наиболее удобный способ для работы с ними в Diary.

> [!note] Переключение режимов просмотра
> В Обсидиане реализовано три варианта работы с заметками: просмотр (без редактирования), редактор с предпросмотром (Live Preview) и редактор исходного кода. Для работы с DIary используйте только первый и последний вариант, так как Live Preview работает некорректно. Для удобства редактирования внутри Обсидиан можно настроить горячие клавиши, для данного хранилища используются следующие сочетания: 
> - `shift + e` — переключиться между просмотром и редактированием исходного кода
> - `ctrl/cmd + shift + e` — переключение между Live Preview и исходным кодом (переключение происходит только в режиме редактирования).

Разберём подробнее процесс внесения данных.

- **Дата** — автоматически добавляется при создании заметки и имеет формат `ДД ММ ГГГГ` в режиме просмотра и `ГГГГ-ММ-ДД` в режиме редактирования. В режиме просмотра дату можно изменить через значок календаря.
- **Категория** — категория соответствует выбранному шаблону при создании заметки. Чтобы изменить это свойство — сотрите текст и выберите любой пункт из предложенных или добавьте новую категорию.
- **Заголовок** — заголовок записи.
- **Описание** — отрывок записи или краткое резюме. Если не заполнены свойства «заголовок», «адрес», «настроение» и «погода», то описание займёт четыре строчки карточки записи в ленте.
- **Адрес** — адрес места, где была сделана запись или где произошли описанные события. В шаблоны записей можно добавить адрес, который используется чаще всего.
- **Иллюстрация** — добавьте сюда название картинки без скобок "[[]]" . Например, `0000-00-00.jpg`. Учтите, что иллюстрации **не работают в мобильной версии** Обсидиана.
- **Настроение** — укажите настроение цифрами от 1 до 5, что соответствует "ужасно", "плохо", "нормально", "хорошо", "отлично".

![[diary-nastroenie-v-dnevnike.png|300]]

*Иконки избранного и настроения*


- **Погода** — изначально [подставлялась автоматически](https://forum.obsidian.md/t/daily-weather-and-next-day-forecast-in-a-template/36186/8 ) с плагином Templater, но данный способ перестал работать. Можно записывать погоду самостоятельно или же заменить на любое другое свойство, например, на уровень энергии.
- **Избранное** — поставьте галочку, если хотите отметить запись звёздочкой. В режиме редактирования соответствует параметрам true / false.
- **cssclasses** — это техническое свойство для стилей дневника, его не нужно менять.
- **locations** — это техническое свойство для добавления геометок внутри записей, должно всегда оставаться пустым.

Все эти свойства можно оставить пустыми, кроме даты и описания.

### Заметка дневника

![[diary-razmetka-dnevnika.gif]]

Всё, что ниже свойств, относится к заметке дневника. Разберём основные элементы разметки Маркдаун, которые пригодятся для ведения дневника.

\# Заголовок 1-го уровня
\## Заголовок 2-го уровня
\### Заголовок 3-го уровня и т.д.

\*Курсивный текст\* — `ctrl/cmd + i`
\*\*Жирный текст\*\* — `ctrl/cmd + b`
\*\*\*Жирный курсивный текст\*\*\*
\~\~Перечёркнутый текст\~\~

\- Простой список
%% %%1. Нумерованный список
\- [ ] Невыполненная задача  — `ctrl/cmd + l`
\- [x] Выполненная задача

\> Цитата
\*\*\* — три звёздочки показывают разделительную линию

\[Это ссылка на внешнюю страницу](https://obsidian.md/) — `ctrl/cmd + k`
\[Это ссылка на внутреннюю страницу](Notes/2023-01-05)
\!\[Это ссылка на вложенный файл изображения](Media/2023-01-05.png)

*Восклицательный знак в начале ссылки выводит изображение в записи.*

Подробнее о вариациях этих и других элементов, можно найти в многочисленных руководствах по Маркдауну. Теперь давайте рассмотрим специальные элементы синтаксиса, которые есть в Обсидиане.

- **Wiki-ссылки** — это внутренние ссылки на документы, они работают наравне со ссылками Маркдаун, но более удобны для работы. Начните вводить две квадратные скобки `[[`, Обсидиан предложит документы, на которые можно сослаться или создаст новый файл, если введённое название отсутствует. Чтобы добавить в wiki-ссылку текст, отличающийся от названия файла, разделите содержание ссылки вертикальной чертой — `[[имя файла|текст, который будет виден в режиме чтения]]`.
- **Wiki-ссылки на изображения** — аналогично вставляются и изображения, но с восклицательным знаком в начале — `![[2023-01-05.png]]`
- **Теги** — Diary умеет показывать записи по определённым тегам, а поиск Obsidian переходить к конкретной строчке, содержащей тег. Это делает теги полезным инструментом для навигации в дневнике. Попробуйте нажать на тег #соня
- **Геометки** — чтобы отразить заметку на карте мира, нужно поставить ссылку в формате Маркдаун — `[текст ссылки](geo:долгота,широта)`. Самый простой способ это сделать — написать адрес, например, `Москва, ВДНХ`, затем выделить текст и выбрать пункт `Convert to geolocation` (ПКМ). Данный способ не всегда показывает верный адрес или может понадобиться более точная геопозиция, тогда нужно зайти в режим карт, кликнуть на точку (ПКМ) и выбрать `Copy geolocation`.
- **Скрытый текст** — вы можете спрятать текст в режиме отображения если обернёте его следующей конструкцией `%% скрытый текст %%`.

Примеры разметки находятся  [[2023-01-02|в этой заметке]].

# Настройка Diary на новом хранилище

Здесь будет описание поэтапной установки Diary на новое или уже используемое хранилище. 

# Настройка оформления

Здесь будет описание настройки стилей для Diary внутри CSS-сниппета.

# Ответы на вопросы

Здесь будут ответы на часто задаваемые вопросы.

# Замеченные проблемы

> [!warning] Баг с кнопками в меню навигации у плагина Buttons
> Иногда, если два хранилища открыты одновременно или одно из них было недавно открыто — кнопки навигации теряют стили и могут начать отображаться следующим образом:
> 
> *\`button-DiaryFilterMain\` \`button-DiaryFilterStar\` \`button-DiaryFilterAgoActive\` \`button-DiaryFilterMap\` \`button-DiaryFilterSettings\` \`button-DiaryNoteAdd\`*
> 
> В этом случае выберите в верхнем меню пункт **View > Force Reload**. Если не помогло, откройте заметку [[DiaryButton]] в папке Templates, прогрузка кнопок должна помочь.

***
[Страница проекта](https://evgenytarasov.ru/diary/?utm_source=diary&utm_medium=guide&utm_campaign=v1) • [Группа в Телеграм](https://t.me/vedenie_dnevnika) • [GitHub](https://github.com/velvetwind/obsidian-diary/)